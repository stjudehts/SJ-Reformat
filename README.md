# SJ-Reformat
This project contains a liquid handler protocol file and associated JavaScript files that contain custom functions used in the protocol.  This project was begun to address issues we faced in reformatting substances contained in 96-well plates to multiple copies in 384-well format as part of an automated work cell protocol.  The main cabaility that this protocol allows is automated adaptation of the steps to the labware items that are reported to be on the device at runtime.  This requires that the when the protocol is executed one or more files exist that describe what labware is currently on the device and list information about run ID and run progress.  In our use case, we import two files that are generated by a scheduling software that controls the robotic system that encompasses the liquid handler.  Process logging enables direct import to a LIMS or other information management database.

This protocol was developed for use with VWorks to controlling a VPrep Vertical Pipetting Station.  VWorks is packaged with a JavaScript engine enabling support for native JavaScript execution within the protocol.  Virtually all protocol parameters can be set by JavaScript, a capability that is heavily leveraged by this project.  If this project is being adapted for use on another liquid handling platform, a similar capability will be required.

Though our system generates the input files on the fly, they could be generated manually before the run.  Alternaltively, the script could be adjusted to read a single file line by line to change any variables accordingly.  In adition, there is no technical reason that the information contained in the two files we import cannot be combined into a single file and read in all at once.  We use two input files because of limitations of the robot control software.


### Input File Structure
_Run Arguments:_ (semicolon delimited in file)

DEVICE_NAME; RUN_ID; CURRENT_PLATE_NUMBER; CURRENT_LABWARE_TYPE; LABWARE_ON_DEVICE; ROBOT_STEP_INFO; TOTAL_PLATE_NUMBER 


_Device Parameters:_ (fields quoted and comma delimited in file)

"SHELF_NUMBER,PLATE_NAME,LABWARE_TYPE;SHELF_NUMBER,PLATE_NAME,LABWARE_TYPE;...","CURRENT_PLATE_NUMBER"



### JavaScript File Descriptions











_**DISCLAIMER:** This software was developed for a specific purpose within our facility and has been made public so that others may benefit from the idea and use it as a starting place for their own projects.  There are many parts that will require modification to adapt to your own liquid handler installation.  We have tried to identify as many of these parts in this document as possible, but different installations may require further modification to make it function correctly._
